<!DOCTYPE html>
<html lang="zh-hant">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>(Demo) Markdown Viewer</title>

        <!-- 預連接 -->
        <link rel="preconnect" href="https://cdn.jsdelivr.net/">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

        <!-- 預加載 Google Fonts -->
        <link rel="preload" href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&family=Noto+Sans+TC:wght@400&display=swap" as="style" crossorigin="anonymous">
        <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&family=Noto+Sans+TC:wght@400&display=swap" rel="stylesheet" crossorigin="anonymous">

        <!-- 預加載 Font Awesome 圖示 -->
        <link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/css/all.min.css" as="style" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/css/all.min.css" crossorigin="anonymous">

        <!-- 預加載 QuickUI 前端框架 -->
        <link rel="preload" href="https://cdn.jsdelivr.net/npm/@pardnchiu/quickui@0.6.6/dist/QuickUI.js" as="script" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/@pardnchiu/quickui@0.6.6/dist/QuickUI.js" defer crossorigin="anonymous"></script>

        <!-- 預加載 NanoMD 編輯器 -->
        <link rel="preload" href="https://cdn.jsdelivr.net/npm/@pardnchiu/nanomd@1.11.1/dist/NanoMD.js" as="script" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/@pardnchiu/nanomd@1.11.1/dist/NanoMD.js" crossorigin="anonymous"></script>

        <!-- 本地資源 -->
        <link rel="stylesheet" href="/dist/system.css">
        <script src="/dist/system.js"></script>
        <script src="/dist/demo.js"></script>
    </head>

    <body id="body" :animation="fade-in">
        <!-- * 純範例用，請直接透過後端實現 -->
        <section :if="is_guest" class="login">
            <temp :path="/page/component/demo-login.html"></temp>
        </section>
        <section :else>
            <!-- * 左側導覽列 (純範例用，請直接透過後端實現) -->
            <temp :path="/page/component/demo-left-tab.html"></temp>
            <!-- 內容 -->
            <section class="system-block-body-right">
                <!-- * 頂部導覽列 (純範例用，請直接透過後端實現) -->
                <temp :path="/page/component/demo-right-nav.html"></temp>
                <!-- -->
                <header>
                    <strong>LICENSE</strong>
                    <section>
                    </section>
                </header>
                <!--  -->
                <section class="system-page-text">
                    <section>
                        <header>
                            <span>目前位置: /LICENSE</span>
                            <section>
                            </section>
                        </header>
                        <!--  -->
                        <section>
                            <section id="md-viewer"></section>
                        </section>
                    </section>
                </section>
            </section>
        </section>
        <script>
            document.addEventListener("DOMContentLoaded", async _ => {
                const url = new URL(location.href);
                const query = url.searchParams;

                // * 純範例用，請直接透過後端實現
                let text;
                await fetch("/LICENSE")
                    .then(response => response.text())
                    .then(data => {
                        text = data;
                    })
                    .catch(error => {
                        console.error(error);
                    });

                demo_datas.left.is_LICENSE = 1;

                page = new QUI({
                    id: "body",
                    data: {
                        // * 純範例用，請直接透過後端實現
                        ...demo_datas
                    },
                    event: {
                        // * 純範例用，請直接透過後端實現
                        ...demo_events,
                        ...system_events,
                    },
                    when: {
                        rendered: _ => {
                            const elm_viewer = new MDViewer({
                                id: "md-viewer",
                                style: {
                                    fill: 0
                                },
                                sync: {
                                    delay: 10
                                }
                            });

                            elm_viewer.init(text);
                        }
                    }
                });
            });

        </script>
    </body>

</html>